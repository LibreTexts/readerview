/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/clipboard/dist/clipboard.js":
/*!**************************************************!*\
  !*** ./node_modules/clipboard/dist/clipboard.js ***!
  \**************************************************/
/***/ (function(module) {

eval("/*!\n * clipboard.js v2.0.11\n * https://clipboardjs.com/\n *\n * Licensed MIT © Zeno Rocha\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(this, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __nested_webpack_require_623__) {\n\n\"use strict\";\n\n// EXPORTS\n__nested_webpack_require_623__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ clipboard; }\n});\n\n// EXTERNAL MODULE: ./node_modules/tiny-emitter/index.js\nvar tiny_emitter = __nested_webpack_require_623__(279);\nvar tiny_emitter_default = /*#__PURE__*/__nested_webpack_require_623__.n(tiny_emitter);\n// EXTERNAL MODULE: ./node_modules/good-listener/src/listen.js\nvar listen = __nested_webpack_require_623__(370);\nvar listen_default = /*#__PURE__*/__nested_webpack_require_623__.n(listen);\n// EXTERNAL MODULE: ./node_modules/select/src/select.js\nvar src_select = __nested_webpack_require_623__(817);\nvar select_default = /*#__PURE__*/__nested_webpack_require_623__.n(src_select);\n;// CONCATENATED MODULE: ./src/common/command.js\n/**\n * Executes a given operation type.\n * @param {String} type\n * @return {Boolean}\n */\nfunction command(type) {\n  try {\n    return document.execCommand(type);\n  } catch (err) {\n    return false;\n  }\n}\n;// CONCATENATED MODULE: ./src/actions/cut.js\n\n\n/**\n * Cut action wrapper.\n * @param {String|HTMLElement} target\n * @return {String}\n */\n\nvar ClipboardActionCut = function ClipboardActionCut(target) {\n  var selectedText = select_default()(target);\n  command('cut');\n  return selectedText;\n};\n\n/* harmony default export */ var actions_cut = (ClipboardActionCut);\n;// CONCATENATED MODULE: ./src/common/create-fake-element.js\n/**\n * Creates a fake textarea element with a value.\n * @param {String} value\n * @return {HTMLElement}\n */\nfunction createFakeElement(value) {\n  var isRTL = document.documentElement.getAttribute('dir') === 'rtl';\n  var fakeElement = document.createElement('textarea'); // Prevent zooming on iOS\n\n  fakeElement.style.fontSize = '12pt'; // Reset box model\n\n  fakeElement.style.border = '0';\n  fakeElement.style.padding = '0';\n  fakeElement.style.margin = '0'; // Move element out of screen horizontally\n\n  fakeElement.style.position = 'absolute';\n  fakeElement.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n  var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n  fakeElement.style.top = \"\".concat(yPosition, \"px\");\n  fakeElement.setAttribute('readonly', '');\n  fakeElement.value = value;\n  return fakeElement;\n}\n;// CONCATENATED MODULE: ./src/actions/copy.js\n\n\n\n/**\n * Create fake copy action wrapper using a fake element.\n * @param {String} target\n * @param {Object} options\n * @return {String}\n */\n\nvar fakeCopyAction = function fakeCopyAction(value, options) {\n  var fakeElement = createFakeElement(value);\n  options.container.appendChild(fakeElement);\n  var selectedText = select_default()(fakeElement);\n  command('copy');\n  fakeElement.remove();\n  return selectedText;\n};\n/**\n * Copy action wrapper.\n * @param {String|HTMLElement} target\n * @param {Object} options\n * @return {String}\n */\n\n\nvar ClipboardActionCopy = function ClipboardActionCopy(target) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    container: document.body\n  };\n  var selectedText = '';\n\n  if (typeof target === 'string') {\n    selectedText = fakeCopyAction(target, options);\n  } else if (target instanceof HTMLInputElement && !['text', 'search', 'url', 'tel', 'password'].includes(target === null || target === void 0 ? void 0 : target.type)) {\n    // If input type doesn't support `setSelectionRange`. Simulate it. https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setSelectionRange\n    selectedText = fakeCopyAction(target.value, options);\n  } else {\n    selectedText = select_default()(target);\n    command('copy');\n  }\n\n  return selectedText;\n};\n\n/* harmony default export */ var actions_copy = (ClipboardActionCopy);\n;// CONCATENATED MODULE: ./src/actions/default.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n/**\n * Inner function which performs selection from either `text` or `target`\n * properties and then executes copy or cut operations.\n * @param {Object} options\n */\n\nvar ClipboardActionDefault = function ClipboardActionDefault() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  // Defines base properties passed from constructor.\n  var _options$action = options.action,\n      action = _options$action === void 0 ? 'copy' : _options$action,\n      container = options.container,\n      target = options.target,\n      text = options.text; // Sets the `action` to be performed which can be either 'copy' or 'cut'.\n\n  if (action !== 'copy' && action !== 'cut') {\n    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n  } // Sets the `target` property using an element that will be have its content copied.\n\n\n  if (target !== undefined) {\n    if (target && _typeof(target) === 'object' && target.nodeType === 1) {\n      if (action === 'copy' && target.hasAttribute('disabled')) {\n        throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n      }\n\n      if (action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n        throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n      }\n    } else {\n      throw new Error('Invalid \"target\" value, use a valid Element');\n    }\n  } // Define selection strategy based on `text` property.\n\n\n  if (text) {\n    return actions_copy(text, {\n      container: container\n    });\n  } // Defines which selection strategy based on `target` property.\n\n\n  if (target) {\n    return action === 'cut' ? actions_cut(target) : actions_copy(target, {\n      container: container\n    });\n  }\n};\n\n/* harmony default export */ var actions_default = (ClipboardActionDefault);\n;// CONCATENATED MODULE: ./src/clipboard.js\nfunction clipboard_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return clipboard_typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n/**\n * Helper function to retrieve attribute value.\n * @param {String} suffix\n * @param {Element} element\n */\n\nfunction getAttributeValue(suffix, element) {\n  var attribute = \"data-clipboard-\".concat(suffix);\n\n  if (!element.hasAttribute(attribute)) {\n    return;\n  }\n\n  return element.getAttribute(attribute);\n}\n/**\n * Base class which takes one or more elements, adds event listeners to them,\n * and instantiates a new `ClipboardAction` on each click.\n */\n\n\nvar Clipboard = /*#__PURE__*/function (_Emitter) {\n  _inherits(Clipboard, _Emitter);\n\n  var _super = _createSuper(Clipboard);\n\n  /**\n   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n   * @param {Object} options\n   */\n  function Clipboard(trigger, options) {\n    var _this;\n\n    _classCallCheck(this, Clipboard);\n\n    _this = _super.call(this);\n\n    _this.resolveOptions(options);\n\n    _this.listenClick(trigger);\n\n    return _this;\n  }\n  /**\n   * Defines if attributes would be resolved using internal setter functions\n   * or custom functions that were passed in the constructor.\n   * @param {Object} options\n   */\n\n\n  _createClass(Clipboard, [{\n    key: \"resolveOptions\",\n    value: function resolveOptions() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n      this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;\n    }\n    /**\n     * Adds a click event listener to the passed trigger.\n     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n     */\n\n  }, {\n    key: \"listenClick\",\n    value: function listenClick(trigger) {\n      var _this2 = this;\n\n      this.listener = listen_default()(trigger, 'click', function (e) {\n        return _this2.onClick(e);\n      });\n    }\n    /**\n     * Defines a new `ClipboardAction` on each click event.\n     * @param {Event} e\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var trigger = e.delegateTarget || e.currentTarget;\n      var action = this.action(trigger) || 'copy';\n      var text = actions_default({\n        action: action,\n        container: this.container,\n        target: this.target(trigger),\n        text: this.text(trigger)\n      }); // Fires an event based on the copy operation result.\n\n      this.emit(text ? 'success' : 'error', {\n        action: action,\n        text: text,\n        trigger: trigger,\n        clearSelection: function clearSelection() {\n          if (trigger) {\n            trigger.focus();\n          }\n\n          window.getSelection().removeAllRanges();\n        }\n      });\n    }\n    /**\n     * Default `action` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultAction\",\n    value: function defaultAction(trigger) {\n      return getAttributeValue('action', trigger);\n    }\n    /**\n     * Default `target` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultTarget\",\n    value: function defaultTarget(trigger) {\n      var selector = getAttributeValue('target', trigger);\n\n      if (selector) {\n        return document.querySelector(selector);\n      }\n    }\n    /**\n     * Allow fire programmatically a copy action\n     * @param {String|HTMLElement} target\n     * @param {Object} options\n     * @returns Text copied.\n     */\n\n  }, {\n    key: \"defaultText\",\n\n    /**\n     * Default `text` lookup function.\n     * @param {Element} trigger\n     */\n    value: function defaultText(trigger) {\n      return getAttributeValue('text', trigger);\n    }\n    /**\n     * Destroy lifecycle.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.listener.destroy();\n    }\n  }], [{\n    key: \"copy\",\n    value: function copy(target) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        container: document.body\n      };\n      return actions_copy(target, options);\n    }\n    /**\n     * Allow fire programmatically a cut action\n     * @param {String|HTMLElement} target\n     * @returns Text cutted.\n     */\n\n  }, {\n    key: \"cut\",\n    value: function cut(target) {\n      return actions_cut(target);\n    }\n    /**\n     * Returns the support of the given action, or all actions if no action is\n     * given.\n     * @param {String} [action]\n     */\n\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n      var actions = typeof action === 'string' ? [action] : action;\n      var support = !!document.queryCommandSupported;\n      actions.forEach(function (action) {\n        support = support && !!document.queryCommandSupported(action);\n      });\n      return support;\n    }\n  }]);\n\n  return Clipboard;\n}((tiny_emitter_default()));\n\n/* harmony default export */ var clipboard = (Clipboard);\n\n/***/ }),\n\n/***/ 828:\n/***/ (function(module) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __unused_webpack_exports, __nested_webpack_require_15749__) {\n\nvar closest = __nested_webpack_require_15749__(828);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n\n/***/ 879:\n/***/ (function(__unused_webpack_module, exports) {\n\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, __unused_webpack_exports, __nested_webpack_require_19113__) {\n\nvar is = __nested_webpack_require_19113__(879);\nvar delegate = __nested_webpack_require_19113__(438);\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n\n/***/ }),\n\n/***/ 817:\n/***/ (function(module) {\n\nfunction select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_24495__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __nested_webpack_require_24495__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__nested_webpack_require_24495__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__nested_webpack_require_24495__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__nested_webpack_require_24495__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__nested_webpack_require_24495__.o(definition, key) && !__nested_webpack_require_24495__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__nested_webpack_require_24495__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nested_webpack_require_24495__(686);\n/******/ })()\n.default;\n});\n\n//# sourceURL=webpack://readerview/./node_modules/clipboard/dist/clipboard.js?");

/***/ }),

/***/ "./node_modules/localstorage-slim/dist/localstorage-slim.js":
/*!******************************************************************!*\
  !*** ./node_modules/localstorage-slim/dist/localstorage-slim.js ***!
  \******************************************************************/
/***/ (function(module) {

eval("!function(t,e){ true?module.exports=e():0}(this,(function(){return(()=>{\"use strict\";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>p});const r=(...t)=>{},n=t=>null!==t&&\"Object\"===t.constructor.name;let c;const o=()=>{if(void 0!==c)return c;c=!0;try{localStorage||(c=!1)}catch(t){c=!1}return i(),c},l=String.fromCharCode(0),a=(t,e,r=!0)=>r?[...JSON.stringify(t)].map((t=>String.fromCharCode(t.charCodeAt(0)+e))).join(\"\"):JSON.parse([...t].map((t=>String.fromCharCode(t.charCodeAt(0)-e))).join(\"\")),s={ttl:null,encrypt:!1,encrypter:a,decrypter:(t,e)=>a(t,e,!1),secret:75},i=(t=!1)=>{if(!o())return!1;Object.keys(localStorage).forEach((e=>{const r=localStorage.getItem(e);if(!r)return;let c;try{c=JSON.parse(r)}catch(t){return}n(c)&&l in c&&(Date.now()>c.ttl||t)&&localStorage.removeItem(e)}))},p={config:s,set:(t,e,n={})=>{if(!o())return!1;const c=Object.assign(Object.assign(Object.assign({},s),n),{encrypt:!1!==n.encrypt&&(n.encrypt||s.encrypt),ttl:null===n.ttl?null:n.ttl||s.ttl});try{const n=c.ttl&&!isNaN(c.ttl)&&c.ttl>0;let o=n?{[l]:e,ttl:Date.now()+1e3*c.ttl}:e;c.encrypt&&(n?o[l]=(c.encrypter||r)(o[l],c.secret):o=(c.encrypter||r)(o,c.secret)),localStorage.setItem(t,JSON.stringify(o))}catch(t){return!1}},get:(t,e={})=>{if(!o())return null;const c=localStorage.getItem(t);if(!c)return null;const a=Object.assign(Object.assign(Object.assign({},s),e),{encrypt:!1!==e.encrypt&&(e.encrypt||s.encrypt),ttl:null===e.ttl?null:e.ttl||s.ttl});let i=JSON.parse(c);const p=n(i)&&l in i;if(a.decrypt||a.encrypt)try{p?i[l]=(a.decrypter||r)(i[l],a.secret):i=(a.decrypter||r)(i,a.secret)}catch(t){}return p?Date.now()>i.ttl?(localStorage.removeItem(t),null):i[l]:i},flush:i,clear:()=>{if(!o())return!1;localStorage.clear()},remove:t=>{if(!o())return!1;localStorage.removeItem(t)}};return e.default})()}));\n//# sourceMappingURL=localstorage-slim.js.map\n\n//# sourceURL=webpack://readerview/./node_modules/localstorage-slim/dist/localstorage-slim.js?");

/***/ }),

/***/ "./node_modules/micromodal/dist/micromodal.es.js":
/*!*******************************************************!*\
  !*** ./node_modules/micromodal/dist/micromodal.es.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var n,i,a,r,s,l=(n=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'],i=function(){function o(e){var n=e.targetModal,i=e.triggers,a=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,l=e.onClose,c=void 0===l?function(){}:l,d=e.openTrigger,u=void 0===d?\"data-micromodal-trigger\":d,f=e.closeTrigger,h=void 0===f?\"data-micromodal-close\":f,v=e.openClass,g=void 0===v?\"is-open\":v,m=e.disableScroll,b=void 0!==m&&m,y=e.disableFocus,p=void 0!==y&&y,w=e.awaitCloseAnimation,E=void 0!==w&&w,k=e.awaitOpenAnimation,M=void 0!==k&&k,A=e.debugMode,C=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:b,openTrigger:u,closeTrigger:h,openClass:g,onShow:s,onClose:c,awaitCloseAnimation:E,awaitOpenAnimation:M,disableFocus:p},a.length>0&&this.registerTriggers.apply(this,t(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var i,a,r;return i=o,(a=[{key:\"registerTriggers\",value:function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];o.filter(Boolean).forEach((function(t){t.addEventListener(\"click\",(function(t){return e.showModal(t)}))}))}},{key:\"showModal\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute(\"aria-hidden\",\"false\"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour(\"disable\"),this.addEventListeners(),this.config.awaitOpenAnimation){var o=function t(){e.modal.removeEventListener(\"animationend\",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener(\"animationend\",o,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:\"closeModal\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute(\"aria-hidden\",\"true\"),this.removeEventListeners(),this.scrollBehaviour(\"enable\"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener(\"animationend\",(function e(){t.classList.remove(o),t.removeEventListener(\"animationend\",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:\"closeModalById\",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:\"scrollBehaviour\",value:function(e){if(this.config.disableScroll){var t=document.querySelector(\"body\");switch(e){case\"enable\":Object.assign(t.style,{overflow:\"\"});break;case\"disable\":Object.assign(t.style,{overflow:\"hidden\"})}}}},{key:\"addEventListeners\",value:function(){this.modal.addEventListener(\"touchstart\",this.onClick),this.modal.addEventListener(\"click\",this.onClick),document.addEventListener(\"keydown\",this.onKeydown)}},{key:\"removeEventListeners\",value:function(){this.modal.removeEventListener(\"touchstart\",this.onClick),this.modal.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"keydown\",this.onKeydown)}},{key:\"onClick\",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:\"onKeydown\",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:\"getFocusableNodes\",value:function(){var e=this.modal.querySelectorAll(n);return Array.apply(void 0,t(e))}},{key:\"setFocusToFirstNode\",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var o=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&t[0].focus()}}}},{key:\"retainFocus\",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var o=t.indexOf(document.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&o===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&e(i.prototype,a),r&&e(i,r),o}(),a=null,r=function(e){if(!document.getElementById(e))return console.warn(\"MicroModal: ❗Seems like you have missed %c'\".concat(e,\"'\"),\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"ID somewhere in your code. Refer example below to resolve it.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<div class=\"modal\" id=\"'.concat(e,'\"></div>')),!1},s=function(e,t){if(function(e){e.length<=0&&(console.warn(\"MicroModal: ❗Please specify at least one %c'micromodal-trigger'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"data attribute.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>'))}(e),!t)return!0;for(var o in t)r(o);return!0},{init:function(e){var o=Object.assign({},{openTrigger:\"data-micromodal-trigger\"},e),n=t(document.querySelectorAll(\"[\".concat(o.openTrigger,\"]\"))),r=function(e,t){var o=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===o[n]&&(o[n]=[]),o[n].push(e)})),o}(n,o.openTrigger);if(!0!==o.debugMode||!1!==s(n,r))for(var l in r){var c=r[l];o.targetModal=l,o.triggers=t(c),a=new i(o)}},show:function(e,t){var o=t||{};o.targetModal=e,!0===o.debugMode&&!1===r(e)||(a&&a.removeEventListeners(),(a=new i(o)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});\"undefined\"!=typeof window&&(window.MicroModal=l);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (l);\n\n\n//# sourceURL=webpack://readerview/./node_modules/micromodal/dist/micromodal.es.js?");

/***/ }),

/***/ "./modules/cite.js":
/*!*************************!*\
  !*** ./modules/cite.js ***!
  \*************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildCite\": () => (/* binding */ buildCite)\n/* harmony export */ });\n/**\n * \n */\n//import ls from 'localstorage-slim';\n\nfunction buildCite(data){\n\n  const mtAuthorName = \n    document.querySelector('.mt-author-information > a') ? \n    document.querySelector('.mt-author-information > a').innerText : null;\n\n  const mtCompanyName = \n    document.querySelector('.mt-author-companyname > a')?\n    document.querySelector('.mt-author-companyname > a').innerText : null;\n\n\n  let url = `https://${window.location.host}/@go/page/${data.pageId}`;\n  return `\n  <div id=\"cite\">\n    <h3>Cite</h3>\n    <div class=\"copy-holder\">\n      ${citeAuthors(mtAuthorName)} (${citeDate(data.modified.modifiedDate)}). ${data.title}. ${citePublisher(mtCompanyName)}. ${url}.\n    </div>\n    <button class=\"btn copy-button\" data-clipboard-target=\"#cite .copy-holder\">Copy to clipboard</button>\n  </div>\n  <div id=\"attribution\">\n    <h3>License &amp; Attribution</h3>\n    <div class=\"copy-holder\">\n      ${buildLicenseAttribution(data)}\n    </div>\n    <button class=\"btn copy-button\" data-clipboard-target=\"#attribution .copy-holder\">Copy to clipboard</button>\n  </div>\n  `;\n\n\n}\n\n\n\n\nfunction citeDate(date){\n  let datestring = new Date(date);\n  let year = datestring.getFullYear();\n  let month = datestring.toLocaleString('default', { month: 'long' });\n  let day = datestring.getDate();\n  let formattedDate = `${year}, ${month} ${day}`;\n  return formattedDate;\n}\n\nfunction citeAuthors(author){\n  console.log(`author obj: ${author}`);\n  if (author) {\n    let name = author.split(' ');\n    let initials = name[name.length - 1] + ', ';\n    initials += name[0].substring(0, 1).toUpperCase() + '.';\n    if (name.length > 2) {\n      initials += ' ' + name[1].substring(0, 1).toUpperCase() + '.';\n    }\n    return initials;\n  } else {\n    return '';\n  }\n\n}\n\nfunction citePublisher(company){\n  if (company){\n    return company + '. LibreTexts';\n  } else {\n    return 'Libretexts';\n  }\n}\n\nfunction buildLicenseAttribution(data) {\n  const { license } = LibreTexts.current;\n  if (license.title === 'notset') {\n    return `\n    <p><span class=\"license-title\">${data.title}</span> by <span class=\"license-author\">${data.authorDisplayName ? data.authorDisplayName : 'LibreTexts'}</span> is shared without a specified license.</p>\n    `;\n  } else {\n    return `\n    <p><span class=\"license-title\">${data.title}</span> by <span class=\"license-author\">${data.authorDisplayName ? data.authorDisplayName : 'LibreTexts'}</span> is licensed <span class=\"license-type\"><a href=\"${license.link}\" target=\"_blank\" rel=\"nofollow\">${license.title}</a></span>, except where otherwise noted.</p>\n    `;\n  }\n}\n\n\n\n\n//# sourceURL=webpack://readerview/./modules/cite.js?");

/***/ }),

/***/ "./modules/contents.js":
/*!*****************************!*\
  !*** ./modules/contents.js ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"renderTableOfContents\": () => (/* binding */ renderTableOfContents)\n/* harmony export */ });\n/* harmony import */ var localstorage_slim__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! localstorage-slim */ \"./node_modules/localstorage-slim/dist/localstorage-slim.js\");\n/**\n * Renders the Table of Contents into the off-canvas menu.\n *\n * @returns {Promise<void>}\n */\n\n\n\nasync function renderTableOfContents(id) {\n  //const { flat, structured } = await LibreTexts.getTOC();\n\n  const { toc } = localstorage_slim__WEBPACK_IMPORTED_MODULE_0__.get(id) || {};\n  const { flat, structured } = toc || {};\n\n  // let { flat, structured } = ls.get('toc') || {};\n\n  // if (!flat && !structured) {\n  //   ({ flat, structured } = await LibreTexts.getTOC());\n  // }\n\n  const container = document.getElementById('toc');\n  \n  //const [subdomain] = LibreTexts.parseURL();\n  /**\n   * ToDo:\n   * - set current page id in LibreTexts object\n   */\n  const currentPageId = document.getElementById('IDHolder').innerText;\n\n  if (!structured || !flat || !container) {\n    console.error('[ReaderView]: Error building Table of Contents.');\n\n    return;\n  }\n  const buildListView = (page) => {\n    if (Array.isArray(page.subpages)) {\n      const children = page.subpages.map((item) => {\n        let itemClasslist = [`m-${item.id}`];\n        if (item.subpages){\n          itemClasslist.push('expandable');\n        }\n        if (currentPageId == item.id){\n          itemClasslist.push('active', 'expanded');\n        }\n        let expander = `\n          <span class=\"toc-expander\" tabindex=\"0\" aria-expanded=\"false\" aria-labelledby=\"toc-chapter${item.id}-label\">\n            <span hidden id=\"toc-chapter${item.id}-label\">Show submenu for ${item.title}</span> \n            <span aria-hidden=\"true\" class=\"icon material-symbols-outlined\" focusable=\"false\">expand_more</span>\n          </span>\n        `;\n        const grandchildren = buildListView(item);\n        return `\n          <li class=\"${itemClasslist.join(' ')}\">\n            <span>\n              <a href=\"/${item.path}?readerView\">${item.title}</a>\n              ${item.subpages ? expander : ''}\n            </span>\n            ${grandchildren}\n          </li>\n        `;\n      }).filter((item) => item !== null);\n      if (children.length > 0) {\n        return `\n          <ul>\n            ${children.join('')}\n          </ul>\n        `;\n      }\n    }\n    return '';\n  };\n\n  const setActiveChapter = (toc) => {\n    const page = toc.filter(item => item.id == currentPageId);\n    const chapterTop = toc.filter(item => item.id == page[0].parentID);\n   \n    if (chapterTop.length) {\n      let chapterParentElement = document.querySelector(`.m-${chapterTop[0].id}`);\n      if (chapterParentElement) {\n        chapterParentElement.classList.add('active', 'expanded');\n        chapterParentElement.querySelector('.toc-expander').setAttribute('aria-expanded', 'true');\n        let subChapterParent = chapterParentElement.parentElement.parentElement;\n        if (subChapterParent.nodeName == 'LI') {\n          subChapterParent.classList.add('active', 'expanded');\n          subChapterParent.querySelector('.toc-expander').setAttribute('aria-expanded', 'true');\n        }\n      } else {\n        return;\n      } \n    }\n  }\n\n  const menu = buildListView(structured);\n  container.innerHTML = menu;\n  container.classList.remove('hidden');\n  const chapter = setActiveChapter(flat);\n  chapter;\n  initMenuExpanderButtons();\n}\n\nfunction initMenuExpanderButtons(){\n  let buttons = document.querySelectorAll('.toc-expander');\n  buttons.forEach(function(btn){\n    [\"click\", \"keypress\"].forEach(ev=>{\n      btn.addEventListener(ev, function(e){\n        let expanded = this.getAttribute('aria-expanded');\n        if (expanded === 'false') {\n          this.setAttribute('aria-expanded', 'true')\n        } else {\n          this.setAttribute('aria-expanded', 'false')\n        }\n        e.preventDefault();\n        if (e.keyCode === 13) {\n          let parent = btn.closest('li.expandable');\n          let targetUL = parent.querySelector('ul');\n          parent.classList.toggle('expanded');\n          targetUL.classList.toggle('open');\n        }\n        if (ev == 'click'){\n          let parent = btn.closest('li.expandable');\n          let targetUL = parent.querySelector('ul');\n          parent.classList.toggle('expanded');\n          targetUL.classList.toggle('open');\n        }\n      });\n    });\n  });\n}\n\n\n\n\n//# sourceURL=webpack://readerview/./modules/contents.js?");

/***/ }),

/***/ "./modules/downloads.js":
/*!******************************!*\
  !*** ./modules/downloads.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initDownloadButtons\": () => (/* binding */ initDownloadButtons)\n/* harmony export */ });\n/* harmony import */ var localstorage_slim__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! localstorage-slim */ \"./node_modules/localstorage-slim/dist/localstorage-slim.js\");\n/**\n * Attaches event handlers to Download dropdown buttons using the download links stored\n * in the global 'current' LibreText object.\n */\n\n\nfunction initDownloadButtons() {\n\n  if (LibreTexts.current?.downloads) {\n    const fullDownloadBtn = document.getElementById('download_pdf_full');\n    const pageDownloadBtn = document.getElementById('download_pdf_page');\n    const orderBookBtn = document.getElementById('download_orderbook');\n    const downloadLinks = LibreTexts.current.downloads;\n\n    if (downloadLinks.pdf.full) {\n      fullDownloadBtn.disabled = false;\n      fullDownloadBtn.addEventListener('click', () => {\n        window.open(downloadLinks.pdf.full, '_blank', 'noreferrer');\n      });\n    } else if (!downloadLinks.pdf.full) {\n      setErrorModal(fullDownloadBtn);\n    }\n\n    if (downloadLinks.pdf.page)  {\n      pageDownloadBtn.disabled = false;\n      pageDownloadBtn.addEventListener('click', () => {\n        window.open(downloadLinks.pdf.page, '_blank', 'noreferrer');\n      });      \n    } else if (!downloadLinks.pdf.page) {\n      setErrorModal(pageDownloadBtn);\n    }\n\n    if (downloadLinks.bookstore) {\n      orderBookBtn.disabled = false;\n      orderBookBtn.addEventListener('click', () => {\n        window.open(downloadLinks.bookstore, '_blank', 'noreferrer');\n      });\n    } else if (!downloadLinks.bookstore) {\n      setErrorModal(orderBookBtn);\n    }\n\n  }\n}\n\nfunction setErrorModal(element){\n  element.setAttribute('data-micromodal-trigger', 'modal-main');\n  element.addEventListener('click', () => {\n    MicroModal.show('modal-main');\n    document.getElementById('modal-main-title').innerHTML = 'Downloads';\n    document.getElementById('modal-main-body').innerHTML = `<p>This action is not available.</p>`;\n  });\n}\n\n\n\n\n//# sourceURL=webpack://readerview/./modules/downloads.js?");

/***/ }),

/***/ "./modules/feedback.js":
/*!*****************************!*\
  !*** ./modules/feedback.js ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initFeedbackButton\": () => (/* binding */ initFeedbackButton)\n/* harmony export */ });\n/**\n * Activates the Feedback/Peer Review button if data from LibreCommons indicates they are accepted.\n */\nfunction initFeedbackButton() {\n  const feedbackBtn = document.getElementById('feedback');\n  const commonsData = LibreTexts.current?.commons;\n  if (\n    commonsData\n    && (commonsData.hasPeerReviews || commonsData.allowAnonPR)\n    && feedbackBtn\n  ) {\n    feedbackBtn.classList.remove('hidden');\n    feedbackBtn.disabled = false;\n    feedbackBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n      const commonsURL = `https://commons.libretexts.org/book/${commonsData.bookID}`;\n      window.open(`${commonsURL}?peerreview=show`, '_blank', 'noreferrer');\n    }); \n  }\n}\n\n\n\n\n//# sourceURL=webpack://readerview/./modules/feedback.js?");

/***/ }),

/***/ "./modules/headertitle.js":
/*!********************************!*\
  !*** ./modules/headertitle.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"renderHeaderTitle\": () => (/* binding */ renderHeaderTitle)\n/* harmony export */ });\n/* harmony import */ var localstorage_slim__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! localstorage-slim */ \"./node_modules/localstorage-slim/dist/localstorage-slim.js\");\n\nasync function renderHeaderTitle(id) {\n\n  //const { flat, structured } = await LibreTexts.getTOC();\n  //const { coverpage } = LibreTexts.current;\n\n  const { coverpage, toc } = localstorage_slim__WEBPACK_IMPORTED_MODULE_0__.get(id) || {};\n  const { flat, structured } = toc || {};\n\n  //console.log(toc);\n\n  // const { flat, structured } = ls.get('toc') || {};\n  //const { coverpage } = ls.get('current') || {};\n  \n  const container = document.querySelector('.header-title');\n  const currentPageId = document.getElementById('IDHolder').innerText;\n\n  if (!structured || !flat || !container) {\n    console.error('[ReaderView]: Error building Header Title.');\n    return;\n  }\n\n  const buildBookTitle = (book) => {\n    return `<a id=\"bookTitle\" href=\"${book.url}?readerView\">${book.title}</a>`;\n  }\n\n  const buildChapterTitle = (toc) => {\n    const page = toc.filter(item => item.id == currentPageId);\n    const chapter = toc.filter(item => item.id == page[0].parentID);\n    /**\n     * ToDo:\n     * - show only Book title on book root\n     * - handle 3+ levels of heirarchy\n     * - show other chapters in dropdown menu when chapter title clicked\n     */\n    if (chapter.length) {\n      if (chapter[0].id == coverpage.id) {\n        // do not show chapter title link if 1st level chapter\n        return '';\n      } else {\n        return `\n          <span class=\"material-symbols-outlined\">keyboard_double_arrow_right</span>\n          <a id=\"chapterTitle\" href=\"https://${window.location.host}/${chapter[0].path}?readerView\">${chapter[0].title}</a>\n        `;\n      }\n    }\n    return '';\n  }\n\n  const bookTitle = buildBookTitle(coverpage);\n  const chapterTitle = buildChapterTitle(flat);\n\n  container.innerHTML = bookTitle;\n  container.innerHTML += chapterTitle;\n\n}\n\n\n// function renderHeaderTitle() {\n//   const { coverpage, toc } = LibreTexts.current;\n//   const container = document.querySelector('.header-title');\n//   const currentPageId = document.getElementById('IDHolder').innerText;\n\n//   if (!toc || !container) {\n//     console.error('[ReaderView]: Error building Header Title.');\n//     return;\n//   }\n\n//   const buildBookTitle = (book) => {\n//     return `<a id=\"bookTitle\" href=\"${book.url}?readerView\">${book.title}</a>`;\n//   }\n\n//   const buildChapterTitle = (toc) => {\n//     const page = toc.filter(item => item.id == currentPageId);\n//     const chapter = toc.filter(item => item.id == page[0].parentID);\n//     /**\n//      * ToDo:\n//      * - show only Book title on book root\n//      * - handle 3+ levels of heirarchy\n//      * - show other chapters in dropdown menu when chapter title clicked\n//      */\n//     if (chapter[0].id == coverpage.id) {\n//       // do not show chapter title link if 1st level chapter\n//       return '';\n//     } else {\n//       return `\n//         <span class=\"material-symbols-outlined\">keyboard_double_arrow_right</span>\n//         <a id=\"chapterTitle\" href=\"https://${window.location.host}/${chapter[0].path}?readerView\">${chapter[0].title}</a>\n//       `;\n//     }\n//   }\n\n//   const bookTitle = buildBookTitle(coverpage);\n//   const chapterTitle = buildChapterTitle(toc.flat);\n\n//   container.innerHTML = bookTitle;\n//   container.innerHTML += chapterTitle;\n\n// }\n\n\n\n\n\n//# sourceURL=webpack://readerview/./modules/headertitle.js?");

/***/ }),

/***/ "./modules/help.js":
/*!*************************!*\
  !*** ./modules/help.js ***!
  \*************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"renderHelp\": () => (/* binding */ renderHelp)\n/* harmony export */ });\nfunction renderHelp() {\n  //const docsURL = 'https://dev.libretexts.org/Sandboxes/yasin_at_libretexts.org/Help_and_Documentation';\n  //const docsURL = 'https://studio.libretexts.org/h5p/10963/embed'\n  const additionalInfo = `\n    <h3>Video Overview</h3>\n    <p>Video is being build and will be available soon.</p>\n    <div id=\"helpInfo\">  \n      <p>Please contact <a href=\"mailto:info@libretexts.org\">info@libretexts.org</a> if you have any questions.</p>\n      <h3>Still have questions?</h3>\n      <p>You should first contact your instructor regarding any issues with this book if it assigned reading.</p>\n      <p>If you are still running into issues or have questions, please send your query to <a href=\"mailto:info@libretexts.org\">info@libretexts.org</a>.</p>\n      <!--<p>You can also refer to the <a href=\"#\" target=\"_blank\">LibreTexts Documentation</a> for tutorials and guides on using the LibreTexts platform.<p>-->\n    </div>\n  `;\n  return additionalInfo;\n  /*\n  return `\n  <iframe src=\"https://studio.libretexts.org/h5p/10963/embed\" width=\"980\" height=\"612\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\" lang=\"en\"></iframe><script src=\"https://studio.libretexts.org/modules/contrib/h5p/vendor/h5p/h5p-core/js/h5p-resizer.js\" charset=\"UTF-8\"></script>\n  ${additionalInfo}\n  `;*/\n}\n\n\n\n//# sourceURL=webpack://readerview/./modules/help.js?");

/***/ }),

/***/ "./modules/homework.js":
/*!*****************************!*\
  !*** ./modules/homework.js ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initHomeworkButton\": () => (/* binding */ initHomeworkButton)\n/* harmony export */ });\n/**\n * Activates the Homework button if ADAPT course information is found in the\n * global 'current' LibreText object.\n */\nfunction initHomeworkButton() {\n  const homeworkButton = document.getElementById('open_homework');\n  if (LibreTexts.current?.commons?.hasAdaptCourse && homeworkButton) {\n    const courseID = LibreTexts.current.commons.adaptCourseID;\n    homeworkButton.classList.remove('hidden');\n    homeworkButton.removeAttribute('disabled','');\n    homeworkButton.addEventListener('click', () => {\n      window.open(\n        `https://adapt.libretexts.org/courses/${courseID}/anonymous`,\n        '_blank',\n        'noreferrer',\n      );\n    });\n  }\n}\n\n\n\n\n//# sourceURL=webpack://readerview/./modules/homework.js?");

/***/ }),

/***/ "./modules/pageinfo.js":
/*!*****************************!*\
  !*** ./modules/pageinfo.js ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Page\": () => (/* binding */ Page),\n/* harmony export */   \"getPageObj\": () => (/* binding */ getPageObj)\n/* harmony export */ });\nlet Page = {};\nfunction getPageObj(){\n  \n\n  Page.title = document.getElementById('titleHolder').innerText;\n  Page.modified = [];\n  Page.modified.dateTime = document.getElementById('modifiedHolder').innerText;\n  Page.pageId = document.getElementById('IDHolder').innerText;\n  if (document.querySelector('.mt-author-information')) {\n    Page.authorDisplayName = document.querySelector('.mt-author-information a') ? document.querySelector('.mt-author-information a').innerText : 'Anonymous';\n    Page.authorLink = document.querySelector('.mt-author-information a') ? document.querySelector('.mt-author-information a').getAttribute('href') : 'https://libretexts.org';\n  }\n  Page.parentTitle = document.getElementById('parentTitleHolder').innerText;\n  Page.parentParentTitle = document.getElementById('parentParentTitleHolder').innerText;\n\n  let dateTime = new Date(Page.modified.dateTime);\n  Page.modified.modifiedDate = dateTime.toLocaleDateString();\n  Page.modified.modifiedTime = dateTime.toLocaleTimeString();\n  return Page;\n}\n\n\n\n//# sourceURL=webpack://readerview/./modules/pageinfo.js?");

/***/ }),

/***/ "./modules/popelement.js":
/*!*******************************!*\
  !*** ./modules/popelement.js ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initPopButtons\": () => (/* binding */ initPopButtons)\n/* harmony export */ });\n/**\n * Builds a draggable, resizable, expanding element\n * that renders an external page in an iframe.\n * \n * @param {string} url - URL to load in the iframe\n * @param {string} title - used to add a <h2> in the popup element.\n * @param {string} style - sets the color/styling for the popup; options: ['default','warning']\n * @param {string} size - initial size of the popup; options: ['default','small','large']\n */\n\nfunction buildPopElement(url, title, style = 'default', size = 'default'){\n  const markup = \n  `<div tabindex=\"0\" id=\"pop\" class=\"pop-style-${style} pop-size-${size}\">\n  \t<div class=\"pop-header\">\n    \t<h2 class=\"pop-title\">${title}</h2>\n      <div class=\"pop-controls\">\n      \t<span tabindex=\"0\" class=\"pop-minimize\" aria-labelledby=\"panel-min-label\">\n          <span hidden=\"hidden\" id=\"panel-min-label\">Minimize this panel</span> \n          <span aria-hidden=\"true\" class=\"material-symbols-outlined\" focusable=\"false\">expand_more</span>\n        </span>\n        <span tabindex=\"0\" class=\"pop-open hidden\" aria-labelledby=\"panel-open-label\">\n          <span hidden=\"hidden\" id=\"panel-open-label\">Open this panel</span> \n          <span aria-hidden=\"true\" class=\"material-symbols-outlined\" focusable=\"false\">expand_less</span>\n        </span>\n        <span tabindex=\"0\" class=\"pop-expand\" aria-labelledby=\"panel-resize-label\">\n          <span hidden=\"hidden\" id=\"panel-resize-label\">Grow or shrink panel</span>   \n          <span class=\"material-symbols-outlined\">open_in_full</span>\n        </span>\n      \t<span tabindex=\"0\" class=\"pop-close\" aria-labelledby=\"panel-close-label\">\n          <span hidden=\"hidden\" id=\"panel-close-label\">Close panel</span>\n          <span class=\"material-symbols-outlined\">close</span>\n        </span>\n      </div>\n    </div>\n    <div class=\"pop-body\" data-iframe-height=\"iFrameResizer\">\n    \t<iframe id=\"pop-iframe\" src=\"${url}\" title=\"${title}\" allowfullscreen frameborder=\"0\"  height=\"100%\" width=\"100%\"></iframe>\n    </div>\n  </div>`;\n  \n  return markup;\n}\n\nfunction initPopButtons() {\n  let popButtons = document.querySelectorAll('[data-type=\"popelement\"]');\n  popButtons.forEach(function(btn){\n    const src = btn.getAttribute('data-src');\n    const title = btn.getAttribute('data-title');\n    \n    [\"click\", \"keypress\"].forEach(ev=>{\n      btn.addEventListener(ev, function(e){\n        e.preventDefault();\n        let expanded = this.getAttribute('aria-expanded');\n        if (expanded === 'false') {\n          this.setAttribute('aria-expanded', 'true')\n        } else {\n          this.setAttribute('aria-expanded', 'false')\n        }\n        if (e.keyCode === 13) {\n          closePop();\n          renderPopElement(src, title);\n        }\n        if (ev == 'click'){\n          closePop();\n          renderPopElement(src, title);\n        }\n      });\n    });\n  });\n}\n\nfunction renderPopElement(src, title) {\n  const popElement = buildPopElement(src, title);\n  document.body.insertAdjacentHTML('beforeend', popElement);\n  iframeHeight();\n  dragElement(document.getElementById(\"pop\"));\n  document.getElementById(\"pop\").focus();\n\n\n  [\"click\", \"keypress\"].forEach(ev=>{\n    document.querySelector('.pop-expand').addEventListener(ev, function(e){\n      if (e.keyCode === 13) {\n        expandPop(e);\n      }\n      if (ev == 'click'){\n        expandPop(e);\n      }\n    });\n    document.querySelector('.pop-close').addEventListener(ev, function(e){\n      if (e.keyCode === 13) {\n        closePop();\n      }\n      if (ev == 'click'){\n        closePop();\n      }\n    });\n    document.querySelector('.pop-minimize').addEventListener(ev, function(e){\n      if (e.keyCode === 13) {\n        minimizePop(e);\n      }\n      if (ev == 'click'){\n        minimizePop(e);\n      }\n    });\n    document.querySelector('.pop-open').addEventListener(ev, function(e){\n      if (e.keyCode === 13) {\n        minimizePop(e);\n      }\n      if (ev == 'click'){\n        minimizePop(e);\n      }\n    });\n  });\n\n  \n\n}\n\nfunction dragElement(elmnt) {\n  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;\n  document.querySelector('.pop-header').onmousedown = dragMouseDown;\n\n  function dragMouseDown(e) {\n    e = e || window.event;\n    e.preventDefault();\n    // get the mouse cursor position at startup:\n    pos3 = e.clientX;\n    pos4 = e.clientY;\n    document.onmouseup = closeDragElement;\n    // call a function whenever the cursor moves:\n    document.onmousemove = elementDrag;\n  }\n\n  function elementDrag(e) {\n    e = e || window.event;\n    e.preventDefault();\n    // calculate the new cursor position:\n    pos1 = pos3 - e.clientX;\n    pos2 = pos4 - e.clientY;\n    pos3 = e.clientX;\n    pos4 = e.clientY;\n    // set the element's new position:\n    elmnt.style.top = (elmnt.offsetTop - pos2) + \"px\";\n    elmnt.style.left = (elmnt.offsetLeft - pos1) + \"px\";\n  }\n\n  function closeDragElement() {\n    // stop moving when mouse button is released:\n    document.onmouseup = null;\n    document.onmousemove = null;\n  }\n}\n\n// Using iframeresizer.js instead\nfunction iframeHeight() {\n  const p = document.querySelector('#pop').scrollHeight;\n  const b = document.querySelector('.pop-header').scrollHeight;\n  document.querySelector('.pop-body iframe').style.height = (p-b) + 'px';\n}\n\nfunction minimizePop(e){\n  e.preventDefault();\n  document.querySelector('#pop').style.top = null;\n  document.querySelector('#pop').style.left = null;\n  document.querySelector('#pop').classList.toggle('minimized');\n  document.querySelector('.pop-expand').classList.toggle('hidden');\n  document.querySelector('.pop-minimize').classList.toggle('hidden');\n  document.querySelector('.pop-open').classList.toggle('hidden');\n  if (!document.querySelector('#pop').classList.contains('minimized')) {\n    dragElement(document.getElementById(\"pop\"));\n  } else {\n    dragElement();\n  }\n  \n}\n\nfunction expandPop(e){\n  e.preventDefault();\n  document.querySelector('#pop').classList.toggle('expanded');\n  iframeHeight();\n}\n\nfunction closePop(e){\n  const pop = document.querySelector('#pop');\n  if (pop) {\n    pop.remove();\n    let r = document.querySelector('a#resources');\n    if (r) {\n      r.focus();\n    } else {\n      document.querySelector('button#toggle_tools');\n    }\n  }\n  \n}\n\n\n\n//# sourceURL=webpack://readerview/./modules/popelement.js?");

/***/ }),

/***/ "./modules/resources.js":
/*!******************************!*\
  !*** ./modules/resources.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initResourceLinks\": () => (/* binding */ initResourceLinks)\n/* harmony export */ });\n/* harmony import */ var localstorage_slim__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! localstorage-slim */ \"./node_modules/localstorage-slim/dist/localstorage-slim.js\");\n/**\n * Builds menu items for 'toolbar' from list\n * of resources made available for book in Commons\n */\n\n\n\nfunction initResourceLinks(id) {\n  \n  // get current book data from localstorage\n  const { commons } = localstorage_slim__WEBPACK_IMPORTED_MODULE_0__.get(id) || {};\n\n  // check if resources exist\n  if (!commons) {\n    console.warn('[ReaderView]: Could not find resource in Commons.');\n    return;\n  }\n  if (commons.hasReaderResources == false) {\n    console.info('[ReaderView]: No resources listed in Commons.');\n    return\n  }\n\n  // get parent element\n  const resourceMenuDropdown = document.querySelector('#dropdown_resources');\n\n  // builds a new menu item\n  const buildResourceLinks = (link, title) => {\n    return `<li><button aria-controls=\"pop\" aria-expanded=\"false\" class=\"toolbar-btn toolbar-inner\" data-src=\"${link}\" data-title=\"${title}\" data-type=\"popelement\"><span>${title}</span></button></li>`\n  }\n\n  // iterate through resources and build+append them to menu\n  commons.readerResources.forEach(resource => {\n    const element = buildResourceLinks(resource.url, resource.name);\n    resourceMenuDropdown.innerHTML += element;\n  });\n}\n\n\n\n\n\n//# sourceURL=webpack://readerview/./modules/resources.js?");

/***/ }),

/***/ "./modules/search.js":
/*!***************************!*\
  !*** ./modules/search.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"performSearch\": () => (/* binding */ performSearch),\n/* harmony export */   \"setSearchLinkParent\": () => (/* binding */ setSearchLinkParent)\n/* harmony export */ });\n/* harmony import */ var localstorage_slim__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! localstorage-slim */ \"./node_modules/localstorage-slim/dist/localstorage-slim.js\");\n\n\nfunction performSearch(id) {\n\n\n  const searchPanel = document.getElementById('search');\n  const searchLabel = searchPanel.querySelector('label');\n  const searchForm = document.querySelector('#book_search');\n  const searchBtn = document.querySelector('#searchButton');\n  const searchResult = document.querySelector('#search_results');\n  let searchScope = '';\n  let searchLocation = 'https://' + window.location.host + '/Special:Search?readerView&qid=&fpid=&fpth=&type=wiki&query=';\n\n  const { toc } = localstorage_slim__WEBPACK_IMPORTED_MODULE_0__.get(id) || {};\n  const { flat, structured } = toc || {};\n\n  //let { flat, structured } = ls.get('toc') || {};\n\n\n  if (!flat && !structured) {\n    searchLabel.innerHTML = 'Search by Keyword';\n  } else {\n    searchScope = `&path=${flat[0].path}`;\n  }\n\n  [\"click\", \"keypress\"].forEach(ev=>{\n    searchBtn.addEventListener(ev, function(e){\n      e.preventDefault();\n\n      if (e.keyCode === 13) {\n        window.open(`${searchLocation}${getKeywords()}${searchScope}`, '_blank', 'noreferrer');\n\n        // const searchQuery = `${searchLocation}${getKeywords()}${searchScope}`;\n        // searchResult.innerHTML = `\n        // <iframe src=\"${searchQuery}\" border=\"0\" width=\"100%\" height=\"100%\"></iframe>\n        // `;\n      }\n\n      if (ev == 'click'){\n        \n        //console.log(searchScope);\n        window.open(`${searchLocation}${getKeywords()}${searchScope}`, '_blank', 'noreferrer');\n\n        // const searchQuery = `${searchLocation}${getKeywords()}${searchScope}`;\n\n        // searchResult.innerHTML = `\n        // <iframe src=\"${searchQuery}\" border=\"0\" width=\"100%\" height=\"100%\"></iframe>\n        // `;\n\n        \n\n\n      }\n    });\n\n  });\n\n}\n\nfunction getKeywords() {\n  let searchBar = document.querySelector('#searchBar');\n  //let keywords = searchBar.value.split(',');\n  let keywords = searchBar.value;\n  console.log(keywords);\n  return keywords;\n}\n\nasync function setSearchLinkParent() {\n  console.log('search link mods');\n  const searchresults = document.querySelector('ul#search-results');\n\n  if (searchresults) {\n\n    \n\n    let resultItem = await searchresults.querySelectorAll('li');\n    let resultLink = await document.querySelectorAll('a.go');\n\n    // console.log(searchresults);\n    // console.log(resultItem);\n    // console.log(resultLink);\n\n\n\n\n    // resultItem.forEach(item => {\n    //   item.dataset.path += '?readerView';\n    // })\n    // resultLink.forEach(item => {\n    //   item.setAttribute('href', item.href + '?readerView')\n    // })\n  } else {\n    return\n  }\n\n}\n\n\n\n//# sourceURL=webpack://readerview/./modules/search.js?");

/***/ }),

/***/ "./modules/tools.js":
/*!**************************!*\
  !*** ./modules/tools.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initToolsLinks\": () => (/* binding */ initToolsLinks)\n/* harmony export */ });\n/* harmony import */ var localstorage_slim__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! localstorage-slim */ \"./node_modules/localstorage-slim/dist/localstorage-slim.js\");\n/**\n * Generate the 'tools' menu in the toolbar.\n * 'Tools' acts as a catch-all for any features\n * that don't fit into the other menus.\n */\n\n\n\nfunction initToolsLinks(id) {\n  const toolbarMenu = document.querySelector('#tools-menu');\n  const toolsMenuDropdown = document.querySelector('#dropdown_tools');\n  const pageID = document.querySelector('#pageIDHolder').innerText;\n\n  const { commons } = localstorage_slim__WEBPACK_IMPORTED_MODULE_0__.get(id) || {};\n\n  let siteTools = [\n    {\n      \"name\": \"Adapt Homework System\",\n      \"url\": \"https://adapt.libretexts.org/\",\n      \"type\": 'link',\n    },\n    {\n      \"name\": \"Jupyter Hub\",\n      \"url\": \"https://jupyter.libretexts.org/hub/login\",\n      \"type\": 'link',\n    },\n    {\n      \"name\": \"OER Remixer\",\n      \"url\": `https://${window.location.host}/Under_Construction/Development_Details/OER_Remixer`,\n      \"type\": 'link',\n    },\n    {\n      \"name\": \"Libre Commons\",\n      \"url\": \"https://commons.libretexts.org/\",\n      \"type\": 'link',\n    },\n    {\n      \"name\": \"Get Page Source\",\n      \"url\": `https://${window.location.host}/Under_Construction/Sandboxes/Henry/Get_Contents?${pageID}`,\n      \"type\": 'link',\n    },\n    {\n      \"name\": \"Toggle Auto Attribution\",\n      \"url\": '',\n      \"type\": 'script',\n      \"action\": 'LibreTexts.active.libreLens()'\n    },\n    {\n      \"name\": \"Find Book in Commons\",\n      \"url\": `https://commons.libretexts.org/book/${commons ? commons.bookID : ''}`,\n      \"type\": 'link',\n    }\n  ];\n\n  \n  if (toolbarMenu) {\n    const buildToolsLinks = (link, title) => {\n      return `<li><a href=\"${link}\" class=\"toolbar-btn toolbar-inner\" target=\"_blank\"><span>${title}</span></a></li>`\n    }\n    const buildScriptLink = (script, title) => {\n      return `<li><a href=\"?toolbarlink\" class=\"toolbar-btn toolbar-inner\" onclick=\"event.preventDefault(); ${script}\"><span>${title}</span></a></li>`\n    }\n    siteTools.forEach(item => {\n      if (item.type === 'script') {\n        const element = buildScriptLink(item.action, item.name);\n        toolsMenuDropdown.innerHTML += element;\n      } else {\n        const element = buildToolsLinks(item.url, item.name);\n        toolsMenuDropdown.innerHTML += element;\n      }\n      \n    })\n  } else {\n    console.warn('[ReaderView]: Tools Menu not found');\n    return\n  }\n}\n\n\n\n\n//# sourceURL=webpack://readerview/./modules/tools.js?");

/***/ }),

/***/ "./readerview.js":
/*!***********************!*\
  !*** ./readerview.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var clipboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clipboard */ \"./node_modules/clipboard/dist/clipboard.js\");\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/* harmony import */ var localstorage_slim__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! localstorage-slim */ \"./node_modules/localstorage-slim/dist/localstorage-slim.js\");\n/* harmony import */ var _modules_pageinfo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/pageinfo.js */ \"./modules/pageinfo.js\");\n/* harmony import */ var _modules_cite_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/cite.js */ \"./modules/cite.js\");\n/* harmony import */ var _modules_help_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/help.js */ \"./modules/help.js\");\n/* harmony import */ var _modules_downloads_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/downloads.js */ \"./modules/downloads.js\");\n/* harmony import */ var _modules_homework_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/homework.js */ \"./modules/homework.js\");\n/* harmony import */ var _modules_feedback_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/feedback.js */ \"./modules/feedback.js\");\n/* harmony import */ var _modules_popelement_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/popelement.js */ \"./modules/popelement.js\");\n/* harmony import */ var _modules_contents_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/contents.js */ \"./modules/contents.js\");\n/* harmony import */ var _modules_headertitle_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/headertitle.js */ \"./modules/headertitle.js\");\n/* harmony import */ var _modules_search_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/search.js */ \"./modules/search.js\");\n/* harmony import */ var _modules_resources_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modules/resources.js */ \"./modules/resources.js\");\n/* harmony import */ var _modules_tools_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./modules/tools.js */ \"./modules/tools.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(function () {\n  \n  if (window.location.href.includes('readerView') || window.location.href.includes('readerView')) {\n\n    // add the readerView class to the body element (used in readerView.css)\n    document.body.classList.add('readerView');\n\n    window.addEventListener('load', async function () {\n      // add logic meant for readerView Only    \n\n      appendPageLinks();\n\n      async function getLTObject() {\n        return LibreTexts.getTOC();\n      }\n\n      getLTObject().then(function(result){\n        let bookID = LibreTexts.current.coverpage.id;\n        \n        if (!(localstorage_slim__WEBPACK_IMPORTED_MODULE_2__.get(bookID))) {\n          localstorage_slim__WEBPACK_IMPORTED_MODULE_2__.set(bookID, LibreTexts.current, { ttl: 3600 });\n        }\n\n        (0,_modules_headertitle_js__WEBPACK_IMPORTED_MODULE_11__.renderHeaderTitle)(bookID);\n        (0,_modules_contents_js__WEBPACK_IMPORTED_MODULE_10__.renderTableOfContents)(bookID);\n        (0,_modules_search_js__WEBPACK_IMPORTED_MODULE_12__.performSearch)(bookID);\n        (0,_modules_resources_js__WEBPACK_IMPORTED_MODULE_13__.initResourceLinks)(bookID);\n        (0,_modules_tools_js__WEBPACK_IMPORTED_MODULE_14__.initToolsLinks)(bookID);\n        (0,_modules_popelement_js__WEBPACK_IMPORTED_MODULE_9__.initPopButtons)();\n \n      });\n\n    });\n    window.addEventListener('libre-downloadsinfoavailable', _modules_downloads_js__WEBPACK_IMPORTED_MODULE_6__.initDownloadButtons);\n    window.addEventListener('libre-commonsinfoavailable', () => {\n      (0,_modules_homework_js__WEBPACK_IMPORTED_MODULE_7__.initHomeworkButton)();\n      (0,_modules_feedback_js__WEBPACK_IMPORTED_MODULE_8__.initFeedbackButton)();\n    });\n\n    (0,_modules_pageinfo_js__WEBPACK_IMPORTED_MODULE_3__.getPageObj)();\n    \n    //MicroModal.init();\n    closeWithEsc();\n    btnEvents();\n    \n\n    // make all .copy-button copy to clipboard from \n    // data-clipboard-target\n    const clip = new clipboard__WEBPACK_IMPORTED_MODULE_0__('.copy-button');\n    clip.on('success', (e) => {\n      e.trigger.innerHTML = 'Copied!';\n      setTimeout(function() {\n        e.trigger.innerHTML = 'Copy to clipboard';\n      }, 4000);\n    });\n  }\n  \n  window.addEventListener('load', function() {\n    // add logic for both readerView and Default\n    tippy('[data-tippy-content]');\n \n  });\n\n\n  function appendPageLinks() {\n    // add the readerView parameter to specific URLs on page\n    // to ensure user does not accidently nav away from readerView\n\n    let pageLinks = [\n      'a.internal',\n      'a[rel=\"internal\"]',\n      '#nextButton',\n      '#backButton',\n      '.mt-icon-previous-article',\n      '.mt-icon-next-article'\n    ];\n\n    pageLinks.forEach(function(sel){\n      let el = document.querySelectorAll(sel)\n      el.forEach(function(target){\n        if (target.href.includes('libretexts.org') && !(target.href.includes('?readerView'))){\n          target.href += '?readerView';\n        }\n      });\n    });\n  }\n\n\n  function closeWithEsc() {\n    // To Do: wire this up with data-controlled-by or something to ensure the aria-* settings, etc are managed properly with Esc closing.\n    let exitablePanels = ['#offcanvas-menu', '.toolbar-btn'];\n    exitablePanels.forEach(function(panel){\n      document.querySelector(panel).addEventListener('keydown', function(e){\n        if(e.key === \"Escape\") {\n          e.preventDefault();\n          this.classList.remove('open');\n        }\n      });\n    });\n  }\n\n\n  function btnEvents() {\n    // Handles events for all layout buttons\n\n    let exitBtn = document.getElementById('exit_reader');\n    [\"click\", \"keypress\"].forEach(ev=>{\n      exitBtn.addEventListener(ev, function(e){\n        e.preventDefault();\n        if (e.keyCode === 13 || ev == 'click') {\n          window.open(window.location.origin + window.location.pathname, '_self');\n        }\n      })\n    });\n\n    // Modals\n    let modalButtons = document.querySelectorAll('[data-type=\"modal\"]');\n    modalButtons.forEach(function(btn){\n      let title = btn.getAttribute('data-modal-title');\n      let modalBodyMethod = btn.getAttribute('data-modal-src');\n\n      [\"click\", \"keypress\"].forEach(ev=>{\n        btn.addEventListener(ev, function(e){\n          e.preventDefault();\n          if (e.keyCode === 13) {\n            micromodal__WEBPACK_IMPORTED_MODULE_1__[\"default\"].show('modal-main');\n            document.getElementById('modal-main-title').innerHTML = title;\n          }\n          if (ev == 'click') {\n            micromodal__WEBPACK_IMPORTED_MODULE_1__[\"default\"].show('modal-main');\n            document.getElementById('modal-main-title').innerHTML = title;\n          }\n          switch (modalBodyMethod) {\n            case 'cite':\n              document.getElementById('modal-main-body').innerHTML = (0,_modules_cite_js__WEBPACK_IMPORTED_MODULE_4__.buildCite)(_modules_pageinfo_js__WEBPACK_IMPORTED_MODULE_3__.Page);\n              break;\n            \n            case 'help':\n              document.getElementById('modal-main-body').innerHTML = (0,_modules_help_js__WEBPACK_IMPORTED_MODULE_5__.renderHelp)();\n                break;\n            \n            case 'na':\n              let modalBody = btn.getAttribute('data-modal-body');\n              document.getElementById('modal-main-body').innerHTML = `<p>${modalBody}</p>`;\n          \n            default:\n              console.log(\"error\");\n              break;\n          }\n\n        });\n      });\n    });\n\n    // Div Collapse\n    let collapseButtons = document.querySelectorAll('[data-type=\"collapse\"]');\n    collapseButtons.forEach(function(btn){\n      let target = btn.getAttribute('data-target');\n      let target_element = document.getElementById(target);\n      \n\n      [\"click\", \"keypress\"].forEach(ev=>{\n        btn.addEventListener(ev, function(e){\n          e.preventDefault();\n          let icon = btn.querySelector('.material-symbols-outlined');\n          let expanded = this.getAttribute('aria-expanded');\n          if (expanded === 'false') {\n            this.setAttribute('aria-expanded', 'true')\n          } else {\n            this.setAttribute('aria-expanded', 'false')\n          }\n          if (e.keyCode === 13) {\n            this.classList.toggle('active');\n            target_element.classList.toggle('open');\n            target_element.querySelector('a:first-of-type, button:first-of-type, input:first-of-type').focus();\n          }\n          if (e.keyCode === 27) {\n            this.classList.remove('active');\n            target_element.classList.remove('open');\n            this.focus();\n          }\n          if (ev == 'click'){\n            this.classList.toggle('active');\n            target_element.classList.toggle('open');\n          }\n          if (btn.id === 'toggle_ocm' && btn.classList.contains('active')) {\n            icon.innerHTML = 'close';\n          } else if ( btn.id === 'toggle_ocm' && !(btn.classList.contains('active')) ) {\n            icon.innerHTML = 'menu';\n          }\n        });\n      });\n    });\n\n\n\n    // Dropdown Menus\n    // let dropdownButtons = document.querySelectorAll('[data-type=\"dropdown\"]');\n    // dropdownButtons.forEach(function(btn){\n    //   let target = btn.getAttribute('data-target');\n    //   let target_element = document.getElementById(target);\n\n    //   [\"click\", \"keypress\"].forEach(ev=>{\n    //     btn.addEventListener(ev, function(e){\n    //       e.preventDefault();\n    //       if (e.keyCode === 13) {\n    //         this.classList.toggle('active');\n    //         let alreadyOpen = target_element.classList.contains('open');\n    //         let anyOpen = document.querySelectorAll('#toolbar ul.open');\n    //         if (anyOpen){\n    //           anyOpen.forEach(function(el){\n    //             el.classList.remove('open');\n    //           });\n    //         }\n    //         target_element.classList.toggle('open', alreadyOpen === false);\n    //       }\n    //       if (ev == 'click'){\n    //         this.classList.toggle('active');\n    //         let alreadyOpen = target_element.classList.contains('open');\n    //         let anyOpen = document.querySelectorAll('#toolbar ul.open');\n    //         if (anyOpen){\n    //           anyOpen.forEach(function(el){\n    //             el.classList.remove('open');\n    //           });\n    //         }\n    //         target_element.classList.toggle('open', alreadyOpen === false); \n    //       }\n    //     });\n    //   });\n    // });\n  \n\n\n  \n    // All Close\n    document.addEventListener('click', function(e){\n      //let exclude = ['button.has-submenu', 'a', 'button.has-submenu > span', '.modal-content *'];\n      let exclude = ['button.has-submenu', 'button.has-submenu>*', '.modal-content *'];\n      let excludeClose = ['toolbar','offcanvas-menu','homework','search'];\n      if (!e.target.matches(exclude)) {\n        let openElements = document.querySelectorAll('.open');\n        openElements.forEach(function(el){\n          if (excludeClose.indexOf(el.id) == -1){\n            el.classList.toggle('open');\n            document.querySelector('.modal-body').innerHTML = '';\n          } \n        });\n      }\n    });\n\n  } // btnEvents()\n\n  // Modal Close\n  // function modalClose(){\n  //   let modalCloseButton = document.querySelectorAll('.modal-close');\n  //   modalCloseButton.forEach(function(btn){\n  //     [\"click\", \"keypress\"].forEach(ev=>{\n  //       btn.addEventListener(ev, function(e){\n  //         //e.preventDefault();\n  //         if (e.keyCode === 13) {\n  //           document.getElementById('modal_readerview').classList.toggle('open');\n  //           document.querySelector('.modal-body').innerHTML = '';\n  //           document.querySelector('#toolbar a:first-of-type, #toolbar button:first-of-type').focus();\n  //         }\n  //         if (ev == 'click'){\n  //           document.getElementById('modal_readerview').classList.toggle('open');\n  //           document.querySelector('.modal-body').innerHTML = '';\n  //         }\n  //       });\n  //     });\n  //   });\n  // }\n})();\n\n//# sourceURL=webpack://readerview/./readerview.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./readerview.js");
/******/ 	
/******/ })()
;